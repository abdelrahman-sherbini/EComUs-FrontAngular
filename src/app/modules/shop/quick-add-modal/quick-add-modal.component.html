<div class="modal fade" id="quickAddModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4">
      <div class="modal-body p-4">
        <div class="d-flex justify-content-between align-items-start mb-3">
          <div class="d-flex gap-3">
            <img
              [src]="product.images && product.images.length ? product.images[0] : '/placeholder.jpg'"
              alt="product"
              class="rounded"
              style="width: 80px; height: 100px; object-fit: cover;" />
            <div>
              <h5 class="mb-1">{{ product.productName }}</h5>
              <div class="fw-semibold">${{ product.price }}</div>
            </div>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="mb-3">
          <label class="fw-semibold">Quantity</label>
          <div class="input-group w-50">
            <button
              class="btn btn-outline-secondary"
              (click)="changeQty(-1)"
              [disabled]="quantity <= 1"
            >–</button>
            <input
              type="text"
              class="form-control text-center"
              [value]="quantity"
              readonly />
            <button
              class="btn btn-outline-secondary"
              (click)="changeQty(1)"
              [disabled]="quantity >= (product.quantity || 1)"
            >+</button>
          </div>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-dark flex-grow-1" (click)="addToCart()">
            Add to cart – ${{ total.toFixed(2) }}
          </button>
          <button
            class="btn btn-outline-secondary wishlist-btn"
            type="button"
            (click)="onWishlistClick()"
            [title]="isWishlisted() ? 'Remove from wishlist' : 'Add to wishlist'"
            [attr.aria-pressed]="isWishlisted()"
            [attr.aria-label]="isWishlisted() ? 'Remove from wishlist' : 'Add to wishlist'">
            <i class="bi"
               [ngClass]="isWishlisted() ? 'bi-heart-fill' : 'bi-heart'"
               [style.color]="isWishlisted() ? '#111' : '#bbb'"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
